<div id="chat-container">
  <div id="messages-list">
    <% if @messages.present? %>
      <% @messages.each do |message| %>
        <% if message.prompt.present? && message.response.present? %>
          <div class="prompt-box">
            <p class="prompt">You:</p>
            <p class="prompt-text"><%= message.prompt %></p>
          </div>
          <div class="response-box">
            <p class="response">GPT:</p>
            <p class="response-text" data-markdown><%= message.response %></p>
          </div>
        <% end %>
      <% end %>
    <% end %>
  </div>
</div>

<%= form_with(model: @message, id: 'generation-form') do |form| %>
  <div class="textarea-with-submit-inside">
    <%= form.text_area :prompt, class: "rounded-corners" %>
    <%= form.submit 'â†‘', class: "submit-within-textarea rounded-corners" %>
  </div>
<% end %>